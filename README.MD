# üß† MicroBlaze System on Artix-7

## üì∏ Block Design

<img width="1555" height="1238" alt="Image" src="https://github.com/user-attachments/assets/b871a93f-e29a-4732-b5b4-effca98d9696" />

This project implements a fully functional MicroBlaze soft processor system on a Xilinx Artix-7 FPGA (e.g., Nexys-4 DDR).  
It integrates DDR2 memory, AXI peripherals, and custom VHDL logic modules ‚Äî forming a complete embedded platform for hardware-software co-development.

---

## üîß System Overview

The system is centered around the Xilinx MicroBlaze CPU, with peripherals connected via AXI Interconnects.  
It supports DMA data streaming, SPI/I¬≤C communication, UART bridge to USB, GPIO control, and DDR2 SDRAM.

The DMA engine streams data from VHDL into DDR2 RAM through MicroBlaze, achieving **~93 MB/s** S2MM write performance.

## Vitis code is developed under the folder Microblaze_Vitis

---

## üß© Block Design Summary

| Peripheral          | Description                                      |
|---------------------|--------------------------------------------------|
| MicroBlaze CPU      | 32-bit soft processor with local I/D memory     |
| AXI Interconnect    | Connects all memory-mapped peripherals           |
| MIG DDR2 Controller | External DDR2 SDRAM interface                    |
| AXI DMA             | High-speed S2MM data streaming to DDR memory    |
| AXI GPIO (x4)       | LEDs, JD header, HC-SR04 trigger/echo           |
| AXI UARTLite        | Serial link to FT2232H USB-UART                 |
| AXI Quad SPI        | Interface to onboard ADXL362 accelerometer      |
| AXI IIC (x2)        | Dual I¬≤C interfaces for MPU6500, ADT7420, etc.  |
| AXI Timer           | 64-bit cascade timer for precise timing         |
| MDM + Intc          | Debug module + interrupt controller              |

---

## üß† Top-Level Integration (`top_module.vhd`)

The VHDL top entity wraps the MicroBlaze system (microblaze_wrapper) and connects it to FPGA hardware IO.

### Main Interfaces
- UART TXRX ‚Üí FT2232H USB-UART for host communication  
- SPI bus ‚Üí MOSIMISOSCKCS for sensor control  
- Dual I¬≤C buses ‚Üí main + JD expansion header  
- DDR2 interface ‚Üí full 16-bit external memory interface  
- Seven-segment display (SSD) ‚Üí driven by `ssd_module`  
- AXI DMA generator ‚Üí streams `S_AXIS_S2MM` data to DDR2  
- Integrated ILA ‚Üí monitors UART, SPI, FIFO, and AXI streams  

---

## üì¶ Features

- ‚úÖ Full MicroBlaze system with DDR2, IO, and DMA  
- ‚úÖ Modular HDL design (`microblaze_wrapper`, `uart_tx`, `uart_rx`, `ssd_module`, etc.)  
- ‚úÖ Automatic FIFO-to-UART bridge logic  
- ‚úÖ Real-time AXI DMA stream generator example  
- ‚úÖ Integrated ILA debugging and signal monitoring  
- ‚úÖ Fully synthesizable and tested on Nexys-4 DDR board  

---

## ‚öôÔ∏è Tools & Requirements

- Vivado 2023.2 or newer  
- Vitis  Xilinx SDK (for firmware development)  
- Nexys-4 DDR  Artix-7 FPGA board  
- Optional ILA debug cores, FT2232H USB-UART bridge

---

## üßæ License

MIT License ¬© 2025 ‚Äî Cenk Keskin

---

 This design demonstrates a complete hardware-software integration flow using Xilinx MicroBlaze, combining custom HDL modules, AXI-based communication, and on-chip peripherals into a single FPGA-based embedded system.